# g-chess-board

A component that displays a chess board, with optional interactivity. Allows
click, drag and keyboard-based moves.

## Properties

| Property            | Attribute            | Type                                                                                                                                                                                                  | Default  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ------------------- | -------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `animationDuration` | `animation-duration` | `number`                                                                                                                                                                                              | 200      | Duration, in milliseconds, of animation when adding/removing/moving pieces.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `arrows`            |                      | `BoardArrow[] \| undefined`                                                                                                                                                                           |          | Set of arrows to draw on the board. This is an array of objects specifying<br />arrow properties, with the following properties: (1) `from` and `to`<br />corresponding to the start and end squares for the arrow, (2) optional<br />`weight` for the line (values: `"light"`, `"normal"`, `"bold"`), and<br />(3) `brush`, which is a string that will be used to make a CSS part<br />where one can customize the color, opacity, and other styles of the<br />arrow. For example, a value for `brush` of `"foo"` will be apply a<br />CSS part named `arrow-foo` to the arrow.<br /><br />Note: because the value of `brush` becomes part of a CSS part name, it<br />should otherwise be usable in a CSS selector name.<br /><br />In addition to allowing arbitrary part names, arrows support a few<br />out-of-the-box brush names, `primary` and `secondary`, which colors<br />defined with CSS custom properties `--arrow-color-primary` and<br />`--arrow-color-secondary`. |
| `coordinates`       | `coordinates`        | `"inside" \| "outside" \| "hidden"`                                                                                                                                                                   | "inside" | How to display coordinates for squares. Could be `inside` the board (default),<br />`outside`, or `hidden`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `fen`               | `fen`                | `string`                                                                                                                                                                                              |          | FEN string representing the board position. Note that changes to the `fen` property<br />change the board `position` property, but do **not** reflect onto the "fen" _attribute_<br />of the element. In other words, to get the latest FEN string for the board position,<br />use the `fen` property on the element.<br /><br />This property accepts the special string `"start"` as shorthand for the starting position<br />of a chess game. An empty string represents an empty board. Invalid FEN values are ignored<br />with an error.<br /><br />Note that a FEN string contains 6 components, separated by slashes, but only the first<br />component (the "piece placement" component) is used.                                                                                                                                                                                                                                                                             |
| `interactive`       | `interactive`        | `boolean`                                                                                                                                                                                             |          | Whether the squares are interactive, i.e. user can interact with squares,<br />move pieces etc. By default, this is false; i.e a board is only for display.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `orientation`       | `orientation`        | `"white" \| "black"`                                                                                                                                                                                  | "white"  | What side's perspective to render squares from (what color appears on<br />the bottom as viewed on the screen).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `position`          |                      | `{ a8?: Piece \| undefined; b8?: Piece \| undefined; c8?: Piece \| undefined; d8?: Piece \| undefined; e8?: Piece \| undefined; f8?: Piece \| undefined; ... 57 more ...; h1?: Piece \| undefined; }` |          | Map representing the board position, where keys are square labels, and<br />values are `Piece` objects. Note that changes to position do not reflect<br />onto the "fen" attribute of the element.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `turn`              | `turn`               | `"white" \| "black" \| undefined`                                                                                                                                                                     |          | What side is allowed to move pieces. This may be `undefined` (or unset,<br />in the case of the equivalent element attribute), in which case pieces<br />from either side can be moved around.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## Methods

| Method                | Type                                                                                                                                                                                                                                                                                                                                    | Description                                                                                       |
| --------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| `addEventListener`    | `{ <K extends "movestart" \| "moveend" \| "movefinished" \| "movecancel">(type: K, listener: (this: GChessBoardElement, ev: ChessBoardEventMap[K]): any, options?: boolean \| ... 1 more ... \| undefined): void; <K extends "fullscreenchange" \| ... 90 more ... \| "paste">(type: K, listener: (this: HTMLElement, ev: HTMLEleme...` | Add listener for events on this element.                                                          |
| `removeEventListener` | `{ <K extends "movestart" \| "moveend" \| "movefinished" \| "movecancel">(type: K, listener: (this: HTMLElement, ev: ChessBoardEventMap[K]): any, options?: boolean \| ... 1 more ... \| undefined): void; <K extends "fullscreenchange" \| ... 90 more ... \| "paste">(type: K, listener: (this: HTMLElement, ev: HTMLElementEvent...` | Remove listener for an event on this element.                                                     |
| `startMove`           | `(square: "a8" \| "b8" \| "c8" \| "d8" \| "e8" \| "f8" \| "g8" \| "h8" \| "a7" \| "b7" \| "c7" \| "d7" \| "e7" \| "f7" \| "g7" \| "h7" \| "a6" \| "b6" \| "c6" \| "d6" \| "e6" \| "f6" \| "g6" \| "h6" \| "a5" \| "b5" \| "c5" \| ... 36 more ... \| "h1", targetSquares?: ("a8" \| ... 62 more ... \| "h1")[] \| undefined): void`     | Start a move on the board at `square`, optionally with specified targets<br />at `targetSquares`. |

## Events

| Event          | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `movecancel`   | Fired as a move is being canceled by the user. The event<br />is _itself_ cancelable, ie. a caller can call `preventDefault()` on the event<br />to prevent the move from being canceled. Any pieces being dragged will be returned<br />to the start square, but the move will remain in progress.<br /><br />The event has a `detail` object`with`from`set to the square label where<br />the move was started, and`piece` containing information about the piece that was<br />moved.                                                                                               |
| `moveend`      | Fired when user is completing a move. This move can be prevented<br />from completing by calling `preventDefault()` on the event. If that is called,<br />the move itself remains in progress. The event has a `detail` object with `from`<br />and `to` set to the square labels of the move, and `piece` containing information<br />about the piece that was moved.                                                                                                                                                                                                                 |
| `movefinished` | Fired after a move is completed and animations are resolved.<br />The event has a `detail` object with `from` and `to` set to the square labels<br />of the move, and `piece` containing information about the piece that was moved.                                                                                                                                                                                                                                                                                                                                                   |
| `movestart`    | Fired when the user initiates a move by clicking, dragging or<br />via the keyboard.<br /><br />The event has a `detail` object with the `from` and<br />`piece` values for the move. It also has a function, `setTargets(squares)`,<br />that the caller can invoke with an array of square labels. This limits the<br />set of targets that the piece can be moved to. Note that calling this<br />function with an empty list will still allow the piece to be dragged around,<br />but no square will accept the piece and thus it will always return to the<br />starting square. |
